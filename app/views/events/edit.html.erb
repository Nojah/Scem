<h1>Editing event</h1>

<% form_for(@event) do |f| %>
  <%= f.error_messages %>

  <p>
    <%= f.label :name %><br />
    <%= f.text_field :name %>
  </p>
  <p>
    <%= f.label :description_short %><br />
    <%= f.text_area :description_short %>
  </p>
  <p>
    <%= f.label :description_long %><br />
    <%= fckeditor_textarea(:event, :description_long, :toolbarSet => 'Simple', :width => '80%', :height => '400px') %>
  </p>
  <p>
    <%= f.label :categories %>
    <%=  swapselect :event,
    @event,
    :categories,
    categories_to_display.map{ |category| [category.name, category.id] }
    %>
  </p>
  <p>
    <%= f.label :is_charged %><br />
    <%= f.check_box :is_charged %>
  </p>
  <p>
    <%= f.label :is_private %><br />
    <%= f.check_box :is_private %>
  </p>

    <p>
    <%= f.label :publishers %><br />
    <%= collection_select :contributions,
      :publisher_ids,
      get_list_organism_rights_user(current_user),
      :id, :name,{ :selected => @event.get_first_publisher },
      { :multiple => false } -%>
  </p>
  <p>
    <%= f.label :organizers %><br />
    <%= swapselect :contributions,
    @event,
    :organizers,
    get_list_organism_rights_user(current_user).map{ |organism| [organism.name, organism.id] }
    %>
  </p>
  <p>
    <%= f.label :partners %><br />
    <%= swapselect :contributions,
    @event,
    :partners,
    get_list_organism_rights_user(current_user).map{ |organism| [organism.name, organism.id] }
    %>
  </p>
  <p>
    <%= f.submit 'Update' %>
  </p>
<% end %>

<%= link_to 'Show', @event %> |
<%= link_to 'Back', events_path %>